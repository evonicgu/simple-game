<?xml version="1.0" encoding="utf-8" ?>
<game>
    <name>The corporation</name>
    <start>start</start>

    <var type="int" name="rank" value="10"/>
    <var type="float" name="money" value="100.0"/>
    <var type="float" name="reputation" value="50.0"/>
    <var type="string" name="character"/>

    <action>
        <name>start</name>
        <title>Вы прошли собеседование и вот-вот станете сотрудником Корпорации.&#10;Осталось только уладить формальности - подпись под договором (Введите ваше имя):</title>

        <input expr="character"/>

        <choice expr="1">
            <text/>

            <goto action="first day">
                <option/>
            </goto>
        </choice>
    </action>

    <action>
        <name>first day</name>
        <title>Первый день на работе..</title>

        <var type="int" name="choice"/>

        <print expr="'Rank - ' + rank"/>
        <print expr="'Money - ' + money"/>
        <print expr="'Reputation - ' + reputation"/>

        <input expr="choice"/>

        <choice expr="choice">
            <text>Вы нашли клиента и продаете ему партию MS Windows.&#10;Ему достаточно было взять версию HOME 100 коробок</text>

            <goto action="bad1">
                <option>У клиента денег много, а у меня нет - вы выпишите ему счет на 120 коробок ULTIMATE по 50 т.р.</option>

                <print expr="'За такое ведение дел вас депремировали на 10 тр, да и в глазах клиента вы показали себя не в лучшем свете. В карьере никаких изменений пока нет.'"/>
                <code expr="money = money - 10.0"/>
                <code expr="reputation = reputation - 10.0"/>
            </goto>

            <goto action="good1">
                <option>Чуть дороже сделаем, кто там заметит - вы выпишете ему счет на 100 коробок версии PRO по 10 т.р.</option>

                <print expr="'В принципе хорошая сделка, решили вы, и действительно вам выплатили приличный бонус, у вас намечаются положительные перспективы в карьерном росте, правда, в глазах клиента вы ничем не выделились.'"/>
                <code expr="rank = rank + 1"/>
                <code expr="money = money + 10.0"/>
            </goto>

            <goto action="client1">
                <option>Как надо, так и сделаем - вы выпишете ему счет на 100 коробок версии HOME по 5 т.р.</option>

                <print expr="' Размер сделки поменьше, решили вы, но зато вы абсолютно честны с клиентом и продали ему только то, что ему действительно нужно, с минимальными затратами. Такое ведение бизнеса принесет вам скромный бонус, не принесет продвижение по службе, но зато в глазах клиента вы зарекомендовали себя крайне честным продавцом.'"/>
                <code expr="money = money + 50.0"/>
                <code expr="reputation = reputation + 10.0"/>
            </goto>
        </choice>
    </action>

    <action>
        <name>bad1</name>
        <title>Корпоратив</title>

        <var type="int" name="choice"/>

        <print expr="'Rank - ' + rank"/>
        <print expr="'Money - ' + money"/>
        <print expr="'Reputation - ' + reputation"/>

        <input expr="choice"/>

        <choice expr="choice">
            <text>Первый день не удался, ну что ж, сегодня в компании корпоратив!&#10;Познакомлюсь с коллегами, покажу себя, однако одному на корпоративе довольно скучно, с кем провести вечер?</text>

            <goto action="boss2">
                <option>Провести вечер в компании начальника</option>

                <print expr="'С начала все было хорошо, но, немного выпив, начальник решил подраться с другим вашим коллегой. Вы отказались вступить в драку, за что вам сделали выговор'"/>
                <code expr="money = money - 20.0"/>
                <code expr="rank = rank - 5"/>
            </goto>

            <goto action="official2">
                <option>Поговорить с привлекательной коллегой</option>

                <print expr="'Эта женщина была членом совета правления, вас повысили'"/>
                <code expr="money = money + 100.0"/>
                <code expr="rank = rank + 15"/>
            </goto>

            <goto action="common2">
                <option>Выпивать с коллегами на спор</option>

                <print expr="'К сожалению вы проиграли и теперь должны всем своим коллегам'"/>
                <code expr="money = money - 50.0"/>
            </goto>
        </choice>
    </action>

    <action>
        <name>good1</name>
        <title>Совещание</title>

        <var type="int" name="choice"/>

        <print expr="'Rank - ' + rank"/>
        <print expr="'Money - ' + money"/>
        <print expr="'Reputation - ' + reputation"/>

        <input expr="choice"/>

        <choice expr="choice">
            <text>В корпорации проходит совещание, на котором обсуждается производительность работников.&#10;Вас неожиданно на него вызывают, есть сведения, что босс доволен сделкой&#10;Так и оказалось, начальник поблагодарил вас за хорошую работу, надо что-то ответить..</text>

            <goto action="good2">
                <option>Сказать, что это все из-за профессионализма и чрезвычайных знаний в своей области</option>

                <print expr="'Видимо, босс пропустил такое самоуверенное заявление мимо ушей, повезло'"/>
            </goto>

            <goto action="good2">
                <option>Сказать, что просто выполнял обязательства перед работодателем</option>

                <print expr="'Начальник оценил ваше желание работать, вас повышают'"/>
                <code expr="money = money + 30.0"/>
                <code expr="rank = rank + 5"/>
            </goto>
        </choice>
    </action>

    <action>
        <name>client1</name>
        <title>Первый довольный клиент</title>

        <var type="int" name="choice"/>

        <print expr="'Rank - ' + rank"/>
        <print expr="'Money - ' + money"/>
        <print expr="'Reputation - ' + reputation"/>

        <input expr="choice"/>

        <choice expr="choice">
            <text>Клиент был очень доволен качеством и скоростью обслуживания.&#10;Вам позвонил директор компании и сказал, что скоро будет новая крупная сделка, но он не может определиться между вами, и вашим более опытным коллегой</text>

            <goto action="star2">
                <option>Взять всю ответственность на себя</option>

                <print expr="'Кто не рискует, тот не пьет шампанское! - ответил директор. Вам доверили одну из самых крупных сделок корпорации'"/>
            </goto>

            <goto action="good2">
                <option>Порекомендовать боссу вашего более опытного коллегу</option>

                <print expr="'Директор учел ваше мнение и был доволен вашей честностью, вам выдали премию'"/>
                <code expr="money = money + 30.0"/>
            </goto>
        </choice>
    </action>

    <action>
        <name>boss2</name>
        <title>Желание отомстить</title>

        <var type="int" name="choice"/>

        <print expr="'Rank - ' + rank"/>
        <print expr="'Money - ' + money"/>
        <print expr="'Reputation - ' + reputation"/>

        <input expr="choice"/>

        <choice expr="choice">
            <text>Вы считаете, что ваш босс поступил несправедливо, поэтому твердо намерились отомстить ему любым способом</text>

            <goto action="end">
                <option>Разгромить кабинет вашего начальника</option>

                <print expr="'Вы устроили в кабинете босса настоящий беспорядок, почти ничего не осталось на своем месте.&#10;Через два дня, когда начальник увидел это, состоялось совещание. Вы сказали, что в тот день был очень сильный ветер, а все разрушения - результат сквозняка. Вас уволили'"/>
            </goto>

            <goto action="end">
                <option>Подложить кнопку ему на стул</option>

                <print expr="'Пока вы старательно укладывали кнопку ровно на середину стула, в кабинет зашел начальник.&#10;К сожалению, все попытки оправдаться оказались безуспешными и вас уволили'"/>
            </goto>

            <goto action="common2">
                <option>Подкараулить его за углом и "случайно" облить горячим кофе</option>

                <print expr="'Начальник так и не понял, что вы сделали это нарочно, однако пришлось оплатить ему покупку нового костюма'"/>
                <code expr="money = money - 30.0"/>
            </goto>

            <goto action="common2">
                <option>Вы решили отложить месть на будущее</option>
            </goto>
        </choice>
    </action>

    <action>
        <name>good2</name>
        <title>Внезапный звонок</title>

        <var type="int" name="choice"/>

        <print expr="'Rank - ' + rank"/>
        <print expr="'Money - ' + money"/>
        <print expr="'Reputation - ' + reputation"/>

        <input expr="choice"/>

        <choice expr="choice">
            <text>Вам позвонили и сказали, что вашего начальника похитили и требуют выкуп в размере 30 млн рублей, а в полицию обращаться нельзя</text>

            <goto action="end">
                <option>Никому ничего не говорить</option>

                <print expr="'Вы решили постараться забыть про погибшего начальника, однако вскоре он начал являться вам в кошмарах. Вы взяли длинный отпуск, чтобы развеяться на курорте, но и там он вас преследовал. Вас направили на обследование к психиатру, который диагностировал у вас серьезное расстройство личности, из-за чего вас поместили в психиатрическую больницу. За долгий срок прибывания в лечебнице вы со своим воображаемым начальником стали хорошими друзьями, по вечерам играли в карты и обсуждали новости, а по утрам вместе ходили завтракать. Однако, это не могло продолжаться вечно, так как через год в больнице появились необходимые лекарства и вас излечили. Вы умоляли врачей не делать этого, не избавлять вас от своего единственного хорошего друга, но вас не послушали. Через неделю в доме по вашему адресу было найдено тело. Причина смерти - самоубийство'"/>
            </goto>

            <goto action="common3">
                <option>Уведомить о случившемся директора компании</option>

                <print expr="'Компания заплатила выкуп за вашего начальника, он снова на свободе. А вам досталась тройная премия'"/>
                <code expr="rank = rank + 5"/>
                <code expr="money = money + 150.0"/>
            </goto>
        </choice>
    </action>

    <action>
        <name>common2</name>
        <title>Очередная сделка</title>

        <var type="int" name="choice"/>

        <input expr="choice"/>

        <choice expr="choice">
            <text>На этот раз пришлось продавать пакет сервисов для интернет магазина.&#10;Клиент был представителем очень крупной компании. Было очевидно, что ему следует воспользоваться услугами более крупной компании в этой сфере</text>

            <goto action="common3">
                <option>Попытаться объяснить клиенту, что сервисы вашей компании подходят для интернет магазинов небольшого размера, ему такое решение не подойдет</option>

                <print expr="'Вы смогли убедить клиента в необходимости другого продукта. Он вам благодарен, однако руководство было не очень довольно таким поведением'"/>

                <code expr="money = money - 20.0"/>
                <code expr="reputation = reputation + 15.0"/>
            </goto>

            <goto action="common3">
                <option>Убедить клиента в необходимости приобретения именно вашего решения</option>

                <print expr="'Начальник был доволен вашим ведением дела, однако клиент остался в замешательстве, так как это решение совсем не подходило для его крупной компании'"/>
                <code expr="money = money + 250.0"/>
                <code expr="reputation = reputation - 5.0"/>
            </goto>
        </choice>
    </action>

    <action>
        <name>star2</name>
        <title>Ответственная работа</title>

        <var type="int" name="choice"/>

        <input expr="choice"/>

        <choice expr="choice">
            <text>На вашей ответственности крупная часть прибыли компании в этом году, вам необходимо закрыть сделку с наибольшей выгодой для корпорации&#10;Заказчик - министерство обороны, а значит нельзя допустить ни единой ошибки. Вы успешно продали программное обеспечение для управления ракетными комплексами, однако один из ваших разработчиков забыл сказать, что в коде осталась одна ошибка, про которую все забыли</text>

            <goto action="common3">
                <option>Отозвать ПО на доработку</option>

                <print expr="'Отдел разработки быстро нашел и исправил ошибку, однако ваша компания выплатила штраф за нарушение сроков поставки ПО. К счастью, это не сказалось на вашей зарплате, а премия в этот раз была больше чем обычно'"/>
                <code expr="money = money + 100.0"/>
            </goto>

            <goto action="end">
                <option>Надеяться на удачу и не отзывать ПО</option>

                <print expr="'Из-за оплошности ваших разработчиков ракета, направленная на США взорвалась в воронеже, а на вашу компанию подали в суд. По итогам длительного процесса разбирательств, компания обанкротилась, а вы потеряли свое рабочее место'"/>

                <code expr="money = 0.0"/>
                <code expr="reputation = 0.0"/>
                <code expr="rank = 0"/>
            </goto>
        </choice>
    </action>

    <action>
        <name>common3</name>
        <title>Тихая жизнь</title>

        <choice expr="1">
            <text>Вы очень усердно работали и стали работником этого года. Вскоре после этого, вы решили, что вам надоела городская суета и уехали жить в деревню, где находитесь и сейчас</text>

            <goto action="end">
                <option/>
            </goto>
        </choice>
    </action>

    <action>
        <name>official2</name>
        <title>Беззаботная жизнь</title>

        <choice expr="1">
            <text>Вы занимаете высокую должность в вашей компании, получаете большую зарплату, имеете семью, детей. Жизнь удалась!</text>

            <goto action="end">
                <option/>
            </goto>
        </choice>
    </action>

    <action>
        <name>end</name>
        <title>Конец...</title>

        <var type="int" name="choice"/>

        <choice expr="choice">
            <text/>
        </choice>
    </action>
</game>